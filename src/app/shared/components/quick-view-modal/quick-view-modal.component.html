<div class="quick-view-modal">
  <div class="modal-content">
    <button class="close-btn" (click)="close.emit()">Ã—</button>
    
    <div class="product-details" *ngIf="product">
      <h2>{{ product.name }}</h2>
      <div class="price-container">
        <span class="price" [class.discounted]="product.discountedPrice">
          {{ product.price | currency }}
        </span>
        <span class="discounted-price" *ngIf="product.discountedPrice">
          {{ product.discountedPrice | currency }}
        </span>
      </div>
      
      <div class="product-meta">
        <div class="brand">Brand: {{ product.brand }}</div>
        <div class="category">Category: {{ product.category }}</div>
        <div class="rating">
          <app-star-rating [rating]="product.rating"></app-star-rating>
          <span>({{ product.reviews }} reviews)</span>
        </div>
      </div>

      <div class="stock-status">
        <ng-container *ngIf="product.inStock; else outOfStock">
          <span class="in-stock">
            <i class="fas fa-check-circle"></i> In Stock
          </span>
        </ng-container>
        <ng-template #outOfStock>
          <span class="out-of-stock">
            <i class="fas fa-times-circle"></i> Out of Stock
          </span>
        </ng-template>
      </div>

      <div class="product-options">
        <div class="size-selector" *ngIf="product.size">
          <label>Size:</label>
          <span class="size-value">{{ product.size }}</span>
        </div>
        
        <div class="color-selector" *ngIf="product.color">
          <label>Color:</label>
          <span class="color-value">
            <span class="color-swatch" [style.backgroundColor]="product.color"></span>
            {{ product.color }}
          </span>
        </div>
      </div>

      <div class="product-description">
        {{ product.description }}
      </div>

      <div class="product-specifications" *ngIf="product.specifications">
        <h3>Specifications</h3>
        <dl>
          <ng-container *ngFor="let spec of product.specifications | keyvalue">
            <dt>{{ spec.key }}</dt>
            <dd>{{ spec.value }}</dd>
          </ng-container>
        </dl>
      </div>

      <div class="action-buttons">
        <button class="add-to-cart-btn" 
                (click)="addToCart.emit()"
                [disabled]="!product.inStock">
          <i class="fas fa-shopping-cart"></i>
          {{ product.inStock ? 'Add to Cart' : 'Out of Stock' }}
        </button>
        
        <button class="wishlist-btn" 
                (click)="toggleWishlist.emit()"
                [class.active]="isInWishlist">
          <i class="fas" [class.fa-heart]="isInWishlist" [class.fa-heart-o]="!isInWishlist"></i>
          {{ isInWishlist ? 'Remove from Wishlist' : 'Add to Wishlist' }}
        </button>
      </div>
    </div>
  </div>
</div>
